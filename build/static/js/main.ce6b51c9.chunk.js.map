{"version":3,"sources":["store/createStore.js","store/reducers/pokemon-reducer.js","components/auth/context.js","components/auth/auth.js","components/If.js","components/auth/login.js","components/PokemonCard.js","components/StatsBox.js","components/PokemonList.js","components/PokemonClass.js","components/PokemonApp.js","app.js","index.js"],"names":["reducers","combineReducers","pokemonRedux","state","type","payload","store","createStore","composeWithDevTools","applyMiddleware","LoginContext","React","createContext","API","process","LoginProvider","props","login","username","password","options","method","mode","cache","headers","Headers","Authorization","btoa","body","JSON","stringify","fetch","then","response","text","token","validateToken","catch","console","error","logout","setLoginState","user","jwt","verify","log","loggedIn","cookie","save","setState","cookieToken","load","this","Provider","value","children","Component","If","condition","Auth","okToRender","capability","context","capabilities","includes","warn","contextType","Login","handleChange","e","target","name","handleSubmit","preventDefault","onClick","placeholder","onChange","PokemonCard","className","StatsBox","pokemon","id","sprites","src","alt","PokemonList","Pokemon","pokeData","front_default","types","PokemonApp","event","json","data","createNewPokemon","handleClick","connect","dispatch","newPokemonId","Read","Update","App","root","document","getElementById","ReactDOM","render"],"mappings":"4XAIMA,EAAWC,0BAAgB,CAC/BC,aCLa,WAAkC,IAAjCC,EAAgC,uDAAxB,GAAwB,yCAAnBC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,QACjC,OAAQD,GACN,IAAK,cACH,OAAOC,EACT,IAAK,cACH,MAAM,GAAN,mBAAWF,GAAX,CAAkBE,IACpB,QACE,OAAOF,MDEEG,EAFD,kBAAMC,sBAAYP,EAAUQ,8BAAoBC,+B,mFEHjDC,EAAeC,IAAMC,gBAC5BC,EAAMC,wBA+EGC,E,YA5Eb,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KAYRC,MAAQ,SAACC,EAAUC,EAAUf,GAC3B,IAAMgB,EAAU,CACdC,OAAQ,OACRC,KAAM,OACNC,MAAO,WACPC,QAAS,IAAIC,QAAQ,CACnBC,cAAc,SAAD,OAAWC,KAAK,GAAD,OAAIT,EAAJ,YAAgBC,QAInC,WAATf,IACFgB,EAAQQ,KAAOC,KAAKC,UAAU,CAC5BZ,WACAC,aAEFC,EAAQI,QAAU,IAAIC,QAAQ,CAC5B,eAAgB,sBAIpBM,MAAM,GAAD,OAAIlB,EAAJ,YAAWT,GAAQgB,GACrBY,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GAAD,OAAW,EAAKC,cAAcD,MACnCE,MAAMC,QAAQC,QApCA,EAuCnBC,OAAS,WACP,EAAKC,eAAc,EAAO,KAAM,KAxCf,EA4CnBL,cAAgB,SAACD,GACf,IACE,IAAMO,EAAOC,IAAIC,OAAOT,EAAOrB,YAC/BwB,QAAQO,IAAIH,GACZ,EAAKD,eAAc,EAAMC,EAAMP,GAC/B,MAAOI,GACP,EAAKE,eAAc,EAAO,KAAM,MAlDjB,EAuDnBA,cAAgB,SAACK,EAAUJ,EAAMP,GAC/BY,IAAOC,KAAK,OAAQb,GACpB,EAAKc,SAAS,CAAEd,QAAOW,WAAUJ,UAtDjC,EAAKvC,MAAQ,CACX2C,UAAU,EACVX,MAAO,KACPO,KAAM,GACNzB,MAAO,EAAKA,MACZuB,OAAQ,EAAKA,QARE,E,iFA6DjB,IAAMU,EAAcH,IAAOI,KAAK,QAChCC,KAAKhB,cAAcc,K,+BAInB,OACI,kBAACxC,EAAa2C,SAAd,CAAuBC,MAAOF,KAAKjD,OAGhCiD,KAAKpC,MAAMuC,c,GAvEM5C,IAAM6C,WCF5BC,EAAK,SAACzC,GACV,OAAQA,EAAM0C,UAA6B,KAAjB1C,EAAMuC,UAG5BI,E,iLAIF,IAAIC,GAAa,EACjB,IACMR,KAAKpC,MAAM6C,YACTT,KAAKU,QAAQpB,KAAKqB,aAAaC,SAASZ,KAAKpC,MAAM6C,cACrDD,GAAa,GAGjB,MAAOrB,GACPD,QAAQ2B,KAAK,kBAEf,OACI,kBAACR,EAAD,CAAIC,UAAWE,GACb,6BAAMR,KAAKpC,MAAMuC,e,GAhBR5C,IAAM6C,WAAnBG,EACGO,YAAcxD,EA0BRiD,Q,SC/BAF,EAJJ,SAACzC,GACV,OAAOA,EAAM0C,UAAY1C,EAAMuC,SAAW,MCEtCY,E,YAGJ,WAAYnD,GAAQ,IAAD,8BACjB,4CAAMA,KAKRoD,aAAe,SAACC,GACd,EAAKpB,SAAL,eAAiBoB,EAAEC,OAAOC,KAAOF,EAAEC,OAAOhB,SAPzB,EAUnBkB,aAAe,SAACH,EAAGjE,GACjBiE,EAAEI,iBACF,EAAKX,QAAQ7C,MAAM,EAAKd,MAAMe,SAAU,EAAKf,MAAMgB,SAAUf,IAT7D,EAAKD,MAAQ,CAAEe,SAAU,GAAIC,SAAU,IAHtB,E,sEAeT,IAAD,OACP,OACE,oCACE,kBAAC,EAAD,CAAIuC,UAAWN,KAAKU,QAAQhB,UAC1B,4BAAQ4B,QAAStB,KAAKU,QAAQtB,QAA9B,YAGF,kBAAC,EAAD,CAAIkB,WAAYN,KAAKU,QAAQhB,UAC3B,8BACE,2BACE6B,YAAY,WACZJ,KAAK,WACLK,SAAUxB,KAAKgB,eAEjB,2BACEO,YAAY,WACZJ,KAAK,WACLnE,KAAK,WACLwE,SAAUxB,KAAKgB,eAEjB,4BAAQM,QAAS,SAACL,GAAD,OAAO,EAAKG,aAAaH,EAAG,YAA7C,WACA,4BAAQK,QAAS,SAACL,GAAD,OAAO,EAAKG,aAAaH,EAAG,YAA7C,kB,GAvCQ1D,IAAM6C,WAApBW,EACGD,YAAcxD,EA8CRyD,QC5CAU,G,OAJK,WAClB,OAAO,4BAAQC,UAAU,gBAAlB,YCgBMC,EAjBE,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAClB1C,QAAQO,IAAImC,GADoB,IAG9BC,EACED,EADFC,GAAIV,EACFS,EADET,KAAMW,EACRF,EADQE,QAAS9E,EACjB4E,EADiB5E,KAErB,OACE,6BAAS0E,UAAU,mBACjB,yBAAKK,IAAKD,EAASJ,UAAU,UAAUM,IAAI,WAC3C,yBAAKN,UAAU,iBACb,wBAAIA,UAAU,cAAd,OAAgCG,EAAhC,IAAqCV,GACrC,uBAAGO,UAAU,SAAb,SAA4B1E,EAA5B,QCEOiF,EAXK,WAClB,OACE,6BAASP,UAAU,QACjB,kBAAC,EAAD,KACE,kBAAC,EAAD,SCPaQ,EACnB,WAAYC,GAAW,oBACrBnC,KAAK6B,GAAKM,EAASN,GACnB7B,KAAKmB,KAAOgB,EAAShB,KACrBnB,KAAK8B,QAAUK,EAASL,QAAQM,cAChCpC,KAAKhD,KAAOmF,EAASE,MAAM,GAAGrF,KAAKmE,MCIjCmB,E,YACJ,WAAY1E,GAAQ,IAAD,8BACjB,4CAAMA,KAEDb,MAAQ,CACX6E,QAAS,IAJM,E,yEASPW,EAAOV,GAAK,IAAD,OACrBlD,MAAM,oCAAD,OAAqCkD,EAArC,MACFjD,MAAK,SAACC,GAAD,OAAcA,EAAS2D,UAC5B5D,MAAK,SAAC6D,GACL,IAAMb,EAAU,IAAIM,EAAQO,GAC5B,EAAK7E,MAAM8E,iBAAiBd,GAC5B1C,QAAQO,IAAImC,MAEb3C,OAAM,SAACE,GAAD,OAAWD,QAAQO,IAAIN,Q,+BAKhC,OADAD,QAAQO,IAAIO,KAAKjD,OAEf,yBAAK2E,UAAU,QACb,kBAAC,EAAD,CAAaiB,YAAa3C,KAAK2C,YAAaf,QAAS5B,KAAKjD,MAAM6E,UAC/D,kBAAC,EAAD,CAAUA,QAAS5B,KAAKjD,MAAM6E,e,GA1BdrE,IAAM6C,WAgDhBwC,eAhBS,SAAC7F,GAAD,MAAY,CAClCD,aAAcC,EAAMD,iBAGK,SAAC+F,GAC1B,MAAO,CACLH,iBAAkB,SAACI,GACjBD,EAAS,CACP7F,KAAM,cACNC,QAAS6F,QAOFF,CAGbN,GCrDIS,EAAO,SAAAnF,GACX,OACI,kBAAC,EAAD,CAAM6C,WAAa,QACjB,sCAKFuC,EAAS,SAAApF,GACb,OACE,kBAAC,EAAD,CAAM6C,WAAW,UACf,sCAqBSwC,E,iLAdX,OACE,6BACA,kBAAC,EAAD,KACE,kBAAC,EAAD,MACA,6BACA,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,Y,GATU1F,IAAM6C,WClBlBlD,EAAQC,IAYR+F,EAAOC,SAASC,eAAe,QACrCC,IAASC,OAAO,mBAVH,WACX,OACE,kBAAC,IAAD,CAAUpG,MAAOA,GACjB,kBAAC,EAAD,SAOY,MAAUgG,K","file":"static/js/main.ce6b51c9.chunk.js","sourcesContent":["import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport pokemonRedux from './reducers/pokemon-reducer';\n\nconst reducers = combineReducers({\n  pokemonRedux,\n});\nconst store = () => createStore(reducers, composeWithDevTools(applyMiddleware()));\n\nexport default store;\n","export default (state = [], {type, payload}) => {\n  switch (type) {\n    case 'GET_POKEMON':\n      return payload;\n    case 'ADD_POKEMON':\n      return [...state, payload];\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport jwt from 'jsonwebtoken';\nimport cookie from 'react-cookies';\n\nexport const LoginContext = React.createContext();\nconst API = process.env.REACT_APP_API;\n\nclass LoginProvider extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loggedIn: false,\n      token: null,\n      user: {},\n      login: this.login,\n      logout: this.logout,\n    };\n  }\n\n  // login\n  login = (username, password, type) => {\n    const options = {\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      headers: new Headers({\n        Authorization: `Basic ${btoa(`${username}:${password}`)}`,\n      }),\n    };\n\n    if (type === 'signup') {\n      options.body = JSON.stringify({\n        username,\n        password,\n      });\n      options.headers = new Headers({\n        'Content-type': 'application/json',\n      });\n    }\n\n    fetch(`${API}/${type}`, options)\n      .then((response) => response.text())\n      .then((token) => this.validateToken(token))\n      .catch(console.error);\n  };\n\n  logout = () => {\n    this.setLoginState(false, null, {});\n  };\n\n  // validate token\n  validateToken = (token) => {\n    try {\n      const user = jwt.verify(token, process.env.REACT_APP_SECRET);\n      console.log(user);\n      this.setLoginState(true, user, token);\n    } catch (error) {\n      this.setLoginState(false, null, {});\n    }\n  };\n\n  // state handling\n  setLoginState = (loggedIn, user, token) => {\n    cookie.save('auth', token);\n    this.setState({ token, loggedIn, user });\n  };\n\n  componentDidMount() {\n    const cookieToken = cookie.load('auth');\n    this.validateToken(cookieToken);\n  }\n\n  render() {\n    return (\n        <LoginContext.Provider value={this.state}>\n\n          {/* eslint-disable-next-line react/prop-types */}\n          {this.props.children}\n        </LoginContext.Provider>\n    );\n  }\n}\n\nexport default LoginProvider;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { LoginContext } from './context';\n\n\nconst If = (props) => {\n  return !props.condition ? props.children : null;\n};\n\nclass Auth extends React.Component {\n  static contextType = LoginContext;\n\n  render() {\n    let okToRender = false;\n    try {\n      if (this.props.capability) {\n        if (this.context.user.capabilities.includes(this.props.capability)) {\n          okToRender = true;\n        }\n      }\n    } catch (error) {\n      console.warn('Not Authorized');\n    }\n    return (\n        <If condition={okToRender}>\n          <div>{this.props.children}</div>\n        </If>\n    );\n  }\n}\n\nAuth.propTypes = {\n  children: PropTypes.object,\n  capability: PropTypes.string,\n};\n\nexport default Auth;\n","\nconst If = (props) => {\n  return props.condition ? props.children : null;\n};\n\nexport default If;\n","import React from 'react';\nimport { LoginContext } from './context';\nimport If from '../If';\n\nclass Login extends React.Component {\n  static contextType = LoginContext;\n\n  constructor(props) {\n    super(props);\n\n    this.state = { username: '', password: '' };\n  }\n\n  handleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  handleSubmit = (e, type) => {\n    e.preventDefault();\n    this.context.login(this.state.username, this.state.password, type);\n  };\n\n  render() {\n    return (\n      <>\n        <If condition={this.context.loggedIn}>\n          <button onClick={this.context.logout}>Log Out</button>\n        </If>\n\n        <If condition={!this.context.loggedIn}>\n          <form>\n            <input\n              placeholder=\"UserName\"\n              name=\"username\"\n              onChange={this.handleChange}\n            />\n            <input\n              placeholder=\"password\"\n              name=\"password\"\n              type=\"password\"\n              onChange={this.handleChange}\n            />\n            <button onClick={(e) => this.handleSubmit(e, 'signin')}>Sign In</button>\n            <button onClick={(e) => this.handleSubmit(e, 'signup')}>Sign Up</button>\n          </form>\n        </If>\n      </>\n    );\n  }\n}\n\nexport default Login;\n","import React from 'react';\n// import PokemonList from './PokemonList';\n\nconst PokemonCard = () => {\n  return <button className=\"pokemon-card\">BUTTON</button>;\n};\n\nexport default PokemonCard;\n","import React from 'react';\n\n\nconst StatsBox = ({ pokemon }) => {\n  console.log(pokemon);\n  const {\n    id, name, sprites, type,\n  } = pokemon;\n  return (\n    <section className=\"details-wrapper\">\n      <img src={sprites} className=\"sprites\" alt=\"sprite\"/>\n      <div className=\"stats-wrapper\">\n        <h1 className=\"stats-name\">ID: {id} {name}</h1>\n        <p className=\"stats\">Type: {type} </p>\n      </div>\n    </section>\n  );\n};\n\n\nexport default StatsBox;\n","import React from 'react';\nimport PokemonCard from './PokemonCard';\nimport StatsBox from './StatsBox';\n\nconst PokemonList = () => {\n  return (\n    <section className=\"list\" >\n      <PokemonCard>\n        <StatsBox/>\n      </PokemonCard>\n\n    </section>\n  );\n};\n\nexport default PokemonList;\n","\nexport default class Pokemon {\n  constructor(pokeData) {\n    this.id = pokeData.id;\n    this.name = pokeData.name;\n    this.sprites = pokeData.sprites.front_default;\n    this.type = pokeData.types[0].type.name;\n  }\n}\n","import React from 'react';\nimport './styles/Pokemon.css';\n// import superagent from 'superagent';\nimport { connect } from 'react-redux';\nimport PokemonList from './PokemonList';\nimport StatsBox from './StatsBox';\nimport Pokemon from './PokemonClass';\n\n// const API_URL = 'http://pokeapi.co/api/v2/pokemon';\n\nclass PokemonApp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      pokemon: {},\n    };\n  }\n\n\n  handleClick(event, id) {\n    fetch(`http://pokeapi.co/api/v2/pokemon/${id}/`)\n      .then((response) => response.json())\n      .then((data) => {\n        const pokemon = new Pokemon(data);\n        this.props.createNewPokemon(pokemon);\n        console.log(pokemon);\n      })\n      .catch((error) => console.log(error));\n  }\n\n  render() {\n    console.log(this.state);\n    return (\n      <div className=\"Main\">\n        <PokemonList handleClick={this.handleClick} pokemon={this.state.pokemon}/>\n         <StatsBox pokemon={this.state.pokemon}/>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  pokemonRedux: state.pokemonRedux,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createNewPokemon: (newPokemonId) => {\n      dispatch({\n        type: 'POKEMON_GET',\n        payload: newPokemonId,\n      });\n    },\n  };\n};\n\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(PokemonApp);\n","import React from 'react';\nimport './app.css';\nimport Auth from './components/auth/auth';\nimport Login from './components/auth/login';\nimport LoginProvider from './components/auth/context';\nimport PokemonApp from './components/PokemonApp';\n\n\nconst Read = props => {\n  return (\n      <Auth capability = 'read'>\n        <span>Re</span>\n      </Auth>\n  );\n};\n\nconst Update = props => {\n  return (\n    <Auth capability='update'>\n      <span>Up</span>\n    </Auth>\n  );\n};\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div>\n      <LoginProvider>\n        <Login />\n        <hr />\n        <PokemonApp />\n        <Read/>\n        <Update/>\n      </LoginProvider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport createStore from './store/createStore';\nimport App from './app';\n\nconst store = createStore();\n\n\nconst Main = () => {\n  return (\n    <Provider store={store}>\n    <App />\n    </Provider>\n\n  );\n};\n\nconst root = document.getElementById('root');\nReactDOM.render(<Main />, root);\n"],"sourceRoot":""}